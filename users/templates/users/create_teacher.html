{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mentor's students</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#fafafa] flex">
    <div class="bg-white w-[285px] py-[42px] pl-[15px] pr-[10px] h-full shadow-[0px_4px_14px_0px_#0000000A]" style="height: auto">
        <!-- Sidebar content here -->
    </div>
    <main class="main flex-1 pb-[100px]">
        <header class="header shadow-[0px_4px_14px_0px_#0000000A] bg-white flex pl-[40px] items-center" style="justify-content:right; border-left: 1px solid #c6c6c6">
            <!-- Header content here -->
        </header>
        <div class="pt-[50px] ml-[40px] mr-[78px] max-w-[1040px] grid ">
            <h1 class="text-[42px] text-black-main font-semibold leading-[52px] mb-[24px]">Учителя</h1>
            <div class="grid gap-[16px]">
                <div class="bg-white flex rounded-md shadow-[0px_4px_20px_0px_#00000014] h-[630px]">
                    <div class="input w-[390px] pt-[48px] pl-[42px] pr-[28px]">
                        <h3 class="max-w-[300px] text-black-main text-[32px] leading-[45px] font-semibold mb-[12px]">Добавить учителя в систему</h3>
<form method="post" action="{% url 'users:create-teacher' %}" class="w-full max-w-sm space-y-[8px]">
    {% csrf_token %}
    <div>
        <label for="id_first_name" class="block text-sm font-medium text-gray-700">First Name</label>
        <input type="text" name="first_name" id="id_first_name" required
               class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
               placeholder="Enter teacher's first name">
        {% for error in form.first_name.errors %}
            <p class="text-red-500 text-xs italic">{{ error }}</p>
        {% endfor %}
    </div>
    <div>
        <label for="id_last_name" class="block text-sm font-medium text-gray-700">Last Name</label>
        <input type="text" name="last_name" id="id_last_name" required
               class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
               placeholder="Enter teacher's last name">
        {% for error in form.last_name.errors %}
            <p class="text-red-500 text-xs italic">{{ error }}</p>
        {% endfor %}
    </div>
    <div>
        <label for="id_phone_number" class="block text-sm font-medium text-gray-700">Phone Number</label>
        <input type="tel" name="phone_number" id="id_phone_number"
               class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
               placeholder="Enter phone number">
        {% for error in form.phone_number.errors %}
            <p class="text-red-500 text-xs italic">{{ error }}</p>
        {% endfor %}
    </div>
    <div>
        <button type="submit"
                class="w-full bg-accent-red text-white rounded-md h-[75px] flex items-center justify-center text-[16px] leading-[22px] font-semibold">Create Account</button>
    </div>
    {% if messages %}
    <ul>
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
</form>                    </div>
                </div>
                <div class="bg-white shadow-[0px_4px_20px_0px_#00000014] rounded-md p-[14px]">
                    <div class="numberOfStudents pt-[33px] px-[30px] pb-[37px] bg-[#FAFAFA] rounded-sm mt-[10px]">
                        <ul class="grid gap-[16px] max-h-[425px] overflow-y-auto px-[15px]">
                            {% for teacher in teachers %}
                            <li class="flex justify-between w-full items-center">
                                <div class="gap-[16px] flex items-center w-[230px]">
                                    <img src="{{ teacher.photo.url }}" alt="" class="max-h-[32px] max-w-[32px] rounded-full">
                                    <h5 class="font-semibold text-[16px] leading-[20px] text-black-main">{{ teacher.full_name }}</h5>
                                </div>
                                <div class="flex gap-[8px] items-center w-[200px]">
                                    <img src="{% static 'assets/phoneIcon.svg' %}" alt="" class="max-w-[16px] max-h-[16px]">
                                    <span class="font-semibold text-[16px] leading-[22px] text-black-main">{{ teacher.phone_number }}</span>
                                </div>
                                <div class="city flex gap-[8px] items-center w-[160px]">
                                    <img src="{% static 'assets/cityIcon.svg' %}" alt="" class="max-w-[16px] max-h-[16px]">
                                    <span class="font-semibold text-[16px] leading-[22px] text-black-main">{{ teacher.city }}</span>
                                </div>
                                <a  class="underline font-semibold text-[16px] w-[200px] leading-[22px] text-black-main hover:no-underline">Редактировать данные</a>
                            </li>
                            {% empty %}
                            <li>No teachers found.</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        {% if user_created %}
<div class="w-[650px] rounded-r-md flex justify-center items-center"
    style="background-position: center; background-repeat: no-repeat; background-image: url('{% static "core/images/crm2/teacherBG.png" %}');">
    <div
        class="bg-white w-[450px] rounded-md pt-[40px] pl-[32px] pr-[77px] pb-[46px] grid gap-[12px]">
        <div class="grid gap-[2px]">
            <label for="number"
                class="text-black-main text-[24px] leading-[33px] font-semibold">Вход по номеру
                телефона</label>
            <div class="flex items-center relative">
                <img src="{% static 'assets/kzIcon.png' %}" alt="Kazakhstan Flag"
                    class="max-w-[20px] max-h-[25px] absolute left-[20px]">
                <input type="text" id="number" value="{{ new_teacher_phone }}"
                    class="h-[56px] pl-[52px] pr-[14px] border-[1px] border-[#CDCDCD] rounded-md w-full focus:outline-none text-[18px] leading-[26px] font-semibold text-black-main" readonly>
            </div>
        </div>
        <div class="grid gap-[2px]">
            <label for="password"
                class="text-black-main text-[24px] leading-[33px] font-semibold mb-[2px]">Пароль</label>
            <div class="flex items-center relative">
                <input type="text" id="password" value="{{ new_teacher_password }}"
                    class="h-[56px] px-[14px] border-[1px] border-[#CDCDCD] rounded-md w-full focus:outline-none text-[18px] leading-[26px] font-medium text-black-main" readonly>
                <button onclick="copyPassword()"
                    class="absolute -right-[35px] max-w-[20px] max-h-[22px] focus:outline-none">
                    <img src="{% static 'assets/copyIcon.svg' %}" alt="">
                </button>
            </div>
        </div>
    </div>
</div>
{% endif %}
    </main>
<script>
    function copyPassword() {
    var copyText = document.getElementById("password");
    copyText.select();
    document.execCommand("copy");
    alert("Password copied to clipboard!");
}

</script>
</body>
</html>
{% endblock %}
